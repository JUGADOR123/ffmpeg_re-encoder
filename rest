
extensions=[".mkv",".mp4"]
video_codecs=[]
audio_codecs=[]
containers=[]
args=shlex.split(cmd)
#User input for
print("New files will be saved under the original location but with \"re-encoded\" at the end") 
folder = input("Enter Absolute folder path: ")
#folder=r"C:\Users\Jugador\Desktop\test"

                #starts actual re encoding
                if cname is not "hevc":
                    cmd2=f"ffmpeg -i \"{file}\"  -map 0:v -map 0:a -map 0:s? -c:v hevc_nvenc -crf 34 -c:a aac -c:s copy \"{ext[0]}-RE-ENCODED.mkv\""
                    args2=shlex.split(cmd2)
                    print(args2)
                    p=subprocess.Popen(args2,cwd=root)
                    result=p.wait()
                    print(result)
                else:
                    print(f"Skipped {file} as it is already hevc")

                #print(f"Output path: {root}\\{ext[0]}-RE-ENCODED{ext[1]}")
                args.pop()    
            else:
                print(f"File is not videofile: {file}")
                time.sleep(5)
print(f"Video codecs found: {video_codecs}")
print(f"Adudio codecs found: {audio_codecs}")
print(f"Containers found: {containers}")